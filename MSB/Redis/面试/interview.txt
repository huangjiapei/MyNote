1、Redis是什么？
磁盘存储缺点->引出Redis出现的原因

2、Redis基本数据类型？
       String：点赞、秒杀
       List
       Set：共同好友
       Hash：点赞
       Zset：排行榜

3、Redis应用场景->分布式锁
问题：
（1）抢占到锁：程序挂掉，未释放
（2）未抢占到锁：客户端不断发送请求，使得IO吞吐量上升
（3）设置过期时间：线程抢占到锁，并设置过期时间，可能出现时间到了，锁失效了，其他线程拿到锁，出现锁不一致。

如何实现：
（1）Redis锁，设置过期时间，监控线程

（2）红锁：客户端实现，多台Redis，抢到一个Redis计数加1，过半则认为加锁成功


4、Redis应用场景->缓存
（1）含义
存储的不是全量数据，而是热点数据，并且会实时变化。
为了减轻后端的访问压力。

（2）key过期，何时删除地址空间
如果用户不去访问过期key，那么它就不会从内存中清除、

（3）如何淘汰冷数据
回收策略：LRU、Random

5、Redis持久化（RDB、AOF）
（1）RDB
         a）含义：快照，将数据序列化全部拷贝到磁盘；恢复速度快
         b）实现方式
	*save：阻塞，Redis在写快照到磁盘的额时候，不对外提供服务，只写快照。
	*bgsave：fork+copyOnWrite，fork出子进程，子进程负责写快照，父进程负责增删改，父进程修改的时候会触发copy，子进程看不到。
		优点是fork创建子进程速度快，且不会占用太多内存。
         c）缺点
	不支持拉链，数据易失

（2）AOF
         a）含义：写操作记录到磁盘中，会追加（Redis4.0将老数据以RDB的形式存储到AOF文件中，新增的指令Append到AOF文件后面）；恢复慢
         b）实现方式
	*手动命令：bgrewriteaof
	*自动修改配置文件：auto-aof-rewrite-percentage 100/auto-aof-rewrite-min-size 64mb
	（何时刷新磁盘：always【无论内核buffer有没有满，都写到磁盘】；no【内核buffer满了，才写到磁盘】；seconds【每秒flush到磁盘】）

6、Redis主从复制
（1）强一致性、弱一致性、最终一致性

7、Redis集群
（1）一致性Hash
         含义：Hash空间为一个虚拟的圆环，从0~2^32-1，对2^32取模（可能出现数据倾斜，会对每一个服务器节点计算多个哈希，每个计算结果位置都放置一个此服务节点，称为虚拟节点。）
         i）服务器确定位置：对每个服务器使用Hash计算hash值，确定在哈希环的一个位置
         ii）数据定位到服务器：将Key进行Hash计算，计算出数据在环上位置，从此位置按照顺时针查找，遇到的服务器就是定位到的服务器。
（2）一致性Hash，容错性
         某台服务器宕机了或者新增服务器，也只会影响一台服务器


8、Redis问题
（1）击穿：存在的数据失效
         线程请求key，发现为null，设置锁，只有获得锁的一个线程才能访问数据库。
（2）穿透：不存在的数据
         Bloom过滤器
（3）雪崩：大量数据失效


9、守护线程与非守护线程区别
任何一个守护线程都会守护整个JVM中所有的非守护线程，只要当前JVM中还有任何一个非守护线程没有结束，守护线程就全部工作，当所有的非守护线程全部结束后，守护线程也会随着JVM一同结束。守护线程最典型的应用就是GC（垃圾回收器）。

作者：逝去丶浅秋
链接：https://www.jianshu.com/p/881e60c386a6
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
